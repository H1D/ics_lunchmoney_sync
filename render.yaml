services:
  # Telegram Bot Service
  - type: worker
    name: ics-lunchmoney-sync
    env: docker
    dockerfilePath: ./telegram-bot/Dockerfile
    dockerContext: .
    plan: free # Use free tier
    autoDeploy: false # Don't auto-deploy on every push
    envVars:
      - key: PUPPETEER_SKIP_CHROMIUM_DOWNLOAD
        value: true
      - key: PUPPETEER_EXECUTABLE_PATH
        value: /usr/bin/chromium
      # Users will need to set these secrets in Render dashboard:
      # - TOKEN (Telegram bot token)
      # - USER_ID (Telegram user ID)
      # - ICS_EMAIL (ICS bank email)
      # - ICS_PASSWORD (ICS bank password)
      # - LUNCHMONEY_TOKEN (Lunch Money API token)
      # - LUNCHMONEY_ASSET_ID (Lunch Money asset ID)
      # - SYNC_DAYS (Number of days to sync, optional)
